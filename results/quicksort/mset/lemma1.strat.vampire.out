% Refutation found. Thanks to Tanya!
% SZS status Unsatisfiable for lemma1
% SZS output start Proof for lemma1
8. append(X0,X1,X2) = $match(X1,'Nil'(X0),X2,'Cons'(X0,X3,X4),'Cons'(X0,X3,append(X0,X4,X2))) [input]
13. filter_mset(X0,X1,X2) = $match(X2,'Nil'(X0),'Nil'(X0),'Cons'(X0,X3,X4),$ite(X1 = X3, 'Cons'(X0,X3,filter_mset(X0,X1,X4)),filter_mset(X0,X1,X4))) [input]
14. ! [X0 : $tType] : ! [X3 : 'list()'(X0),X1 : X0,X2 : 'list()'(X0)] : append(X0,filter_mset(X0,X1,X2),filter_mset(X0,X1,X3)) = filter_mset(X0,X1,append(X0,X2,X3)) [input]
15. ~! [X0 : $tType] : ! [X3 : 'list()'(X0),X1 : X0,X2 : 'list()'(X0)] : append(X0,filter_mset(X0,X1,X2),filter_mset(X0,X1,X3)) = filter_mset(X0,X1,append(X0,X2,X3)) [negated conjecture 14]
19. append(X0,X1,X2) = $match(X1,'Nil'(X0),X2,'Cons'(X0,X3,X4),'Cons'(X0,X3,append(X0,X4,X2))) [theory normalization 8]
24. filter_mset(X0,X1,X2) = $match(X2,'Nil'(X0),'Nil'(X0),'Cons'(X0,X3,X4),$ite(X1 = X3, 'Cons'(X0,X3,filter_mset(X0,X1,X4)),filter_mset(X0,X1,X4))) [theory normalization 13]
43. ! [X4 : 'list()'(X0),X3 : X0,X2 : 'list()'(X0),X1 : 'list()'(X0),X0 : $tType] : append(X0,X1,X2) = $match(X1,'Nil'(X0),X2,'Cons'(X0,X3,X4),'Cons'(X0,X3,append(X0,X4,X2))) [closure 19]
44. ! [X0 : $tType,X2 : 'list()'(X0),X4 : 'list()'(X0),X3 : X0,X1 : 'list()'(X0)] : ('Nil'(X0) = X1 => mG4(X0,X2,X4,X3,X1) = X2) [fool match definition]
45. ! [X0 : $tType,X2 : 'list()'(X0),X4 : 'list()'(X0),X3 : X0,X1 : 'list()'(X0)] : ('Cons'(X0,X3,X4) = X1 => 'Cons'(X0,X3,append(X0,X4,X2)) = mG4(X0,X2,X4,X3,X1)) [fool match definition]
46. ! [X4 : 'list()'(X0),X3 : X0,X2 : 'list()'(X0),X1 : 'list()'(X0),X0 : $tType] : append(X0,X1,X2) = mG4(X0,X2,X4,X3,X1) [fool elimination 43,45,44]
63. ! [X4 : 'list()'(X0),X3 : X0,X2 : 'list()'(X0),X1 : X0,X0 : $tType] : filter_mset(X0,X1,X2) = $match(X2,'Nil'(X0),'Nil'(X0),'Cons'(X0,X3,X4),$ite(X1 = X3, 'Cons'(X0,X3,filter_mset(X0,X1,X4)),filter_mset(X0,X1,X4))) [closure 24]
64. ! [X0 : $tType,X3 : X0,X1 : X0,X4 : 'list()'(X0),X2 : 'list()'(X0)] : ('Nil'(X0) = X2 => 'Nil'(X0) = mG9(X0,X3,X1,X4,X2)) [fool match definition]
65. ! [X0 : $tType,X3 : X0,X1 : X0,X4 : 'list()'(X0)] : (~X1 = X3 => filter_mset(X0,X1,X4) = iG10(X0,X3,X1,X4)) & ! [X0 : $tType,X3 : X0,X1 : X0,X4 : 'list()'(X0)] : (X1 = X3 => 'Cons'(X0,X3,filter_mset(X0,X1,X4)) = iG10(X0,X3,X1,X4)) [fool ite definition]
66. ! [X0 : $tType,X3 : X0,X1 : X0,X4 : 'list()'(X0),X2 : 'list()'(X0)] : ('Cons'(X0,X3,X4) = X2 => mG9(X0,X3,X1,X4,X2) = iG10(X0,X3,X1,X4)) [fool match definition]
67. ! [X4 : 'list()'(X0),X3 : X0,X2 : 'list()'(X0),X1 : X0,X0 : $tType] : filter_mset(X0,X1,X2) = mG9(X0,X3,X1,X4,X2) [fool elimination 63,66,65,64]
68. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0),X4 : 'list()'(X0)] : ('Cons'(X0,X1,X3) = X4 => mG9(X0,X1,X2,X3,X4) = iG10(X0,X1,X2,X3)) [rectify 66]
69. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0)] : (~X1 = X2 => iG10(X0,X1,X2,X3) = filter_mset(X0,X2,X3)) & ! [X4 : $tType,X5 : X4,X6 : X4,X7 : 'list()'(X4)] : (X5 = X6 => 'Cons'(X4,X5,filter_mset(X4,X6,X7)) = iG10(X4,X5,X6,X7)) [rectify 65]
70. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0)] : (X1 != X2 => iG10(X0,X1,X2,X3) = filter_mset(X0,X2,X3)) & ! [X4 : $tType,X5 : X4,X6 : X4,X7 : 'list()'(X4)] : (X5 = X6 => 'Cons'(X4,X5,filter_mset(X4,X6,X7)) = iG10(X4,X5,X6,X7)) [flattening 69]
71. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0),X4 : 'list()'(X0)] : ('Nil'(X0) = X4 => 'Nil'(X0) = mG9(X0,X1,X2,X3,X4)) [rectify 64]
84. ! [X0 : $tType,X1 : 'list()'(X0),X2 : 'list()'(X0),X3 : X0,X4 : 'list()'(X0)] : ('Cons'(X0,X3,X2) = X4 => 'Cons'(X0,X3,append(X0,X2,X1)) = mG4(X0,X1,X2,X3,X4)) [rectify 45]
85. ! [X0 : $tType,X1 : 'list()'(X0),X2 : 'list()'(X0),X3 : X0,X4 : 'list()'(X0)] : ('Nil'(X0) = X4 => mG4(X0,X1,X2,X3,X4) = X1) [rectify 44]
105. ! [X0 : 'list()'(X4),X1 : X4,X2 : 'list()'(X4),X3 : 'list()'(X4),X4 : $tType] : append(X4,X3,X2) = mG4(X4,X2,X0,X1,X3) [rectify 46]
110. ! [X0 : 'list()'(X4),X1 : X4,X2 : 'list()'(X4),X3 : X4,X4 : $tType] : filter_mset(X4,X3,X2) = mG9(X4,X1,X3,X0,X2) [rectify 67]
111. ~! [X0 : $tType] : ! [X1 : 'list()'(X0),X2 : X0,X3 : 'list()'(X0)] : append(X0,filter_mset(X0,X2,X3),filter_mset(X0,X2,X1)) = filter_mset(X0,X2,append(X0,X3,X1)) [rectify 15]
112. ~! [X0 : $tType,X1 : 'list()'(X0),X2 : X0,X3 : 'list()'(X0)] : append(X0,filter_mset(X0,X2,X3),filter_mset(X0,X2,X1)) = filter_mset(X0,X2,append(X0,X3,X1)) [flattening 111]
113. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0),X4 : 'list()'(X0)] : (mG9(X0,X1,X2,X3,X4) = iG10(X0,X1,X2,X3) | 'Cons'(X0,X1,X3) != X4) [ennf transformation 68]
114. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0)] : (iG10(X0,X1,X2,X3) = filter_mset(X0,X2,X3) | X1 = X2) & ! [X4 : $tType,X5 : X4,X6 : X4,X7 : 'list()'(X4)] : ('Cons'(X4,X5,filter_mset(X4,X6,X7)) = iG10(X4,X5,X6,X7) | X5 != X6) [ennf transformation 70]
115. ! [X0 : $tType,X1 : X0,X2 : X0,X3 : 'list()'(X0),X4 : 'list()'(X0)] : ('Nil'(X0) = mG9(X0,X1,X2,X3,X4) | 'Nil'(X0) != X4) [ennf transformation 71]
124. ! [X0 : $tType,X1 : 'list()'(X0),X2 : 'list()'(X0),X3 : X0,X4 : 'list()'(X0)] : ('Cons'(X0,X3,append(X0,X2,X1)) = mG4(X0,X1,X2,X3,X4) | 'Cons'(X0,X3,X2) != X4) [ennf transformation 84]
125. ! [X0 : $tType,X1 : 'list()'(X0),X2 : 'list()'(X0),X3 : X0,X4 : 'list()'(X0)] : (mG4(X0,X1,X2,X3,X4) = X1 | 'Nil'(X0) != X4) [ennf transformation 85]
136. ? [X0 : $tType,X1 : 'list()'(X0),X2 : X0,X3 : 'list()'(X0)] : append(X0,filter_mset(X0,X2,X3),filter_mset(X0,X2,X1)) != filter_mset(X0,X2,append(X0,X3,X1)) [ennf transformation 112]
147. ? [X0 : $tType,X1 : 'list()'(X0),X2 : X0,X3 : 'list()'(X0)] : append(X0,filter_mset(X0,X2,X3),filter_mset(X0,X2,X1)) != filter_mset(X0,X2,append(X0,X3,X1)) => append(sK11,filter_mset(sK11,sK13,sK14),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,sK14,sK12)) [choice axiom]
148. append(sK11,filter_mset(sK11,sK13,sK14),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,sK14,sK12)) [skolemisation 136,147]
149. mG9(X0,X1,X2,X3,X4) = iG10(X0,X1,X2,X3) | 'Cons'(X0,X1,X3) != X4 [cnf transformation 113]
150. 'Cons'(X4,X5,filter_mset(X4,X6,X7)) = iG10(X4,X5,X6,X7) | X5 != X6 [cnf transformation 114]
151. iG10(X0,X1,X2,X3) = filter_mset(X0,X2,X3) | X1 = X2 [cnf transformation 114]
152. 'Nil'(X0) = mG9(X0,X1,X2,X3,X4) | 'Nil'(X0) != X4 [cnf transformation 115]
167. 'Cons'(X0,X3,append(X0,X2,X1)) = mG4(X0,X1,X2,X3,X4) | 'Cons'(X0,X3,X2) != X4 [cnf transformation 124]
168. mG4(X0,X1,X2,X3,X4) = X1 | 'Nil'(X0) != X4 [cnf transformation 125]
185. append(X4,X3,X2) = mG4(X4,X2,X0,X1,X3) [cnf transformation 105]
193. filter_mset(X4,X3,X2) = mG9(X4,X1,X3,X0,X2) [cnf transformation 110]
194. append(sK11,filter_mset(sK11,sK13,sK14),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,sK14,sK12)) [cnf transformation 148]
195. iG10(X0,X1,X2,X3) = filter_mset(X0,X2,X4) | 'Cons'(X0,X1,X3) != X4 [definition unfolding 149,193]
196. 'Nil'(X0) = filter_mset(X0,X2,X4) | 'Nil'(X0) != X4 [definition unfolding 152,193]
199. 'Cons'(X0,X3,append(X0,X2,X1)) = append(X0,X4,X1) | 'Cons'(X0,X3,X2) != X4 [definition unfolding 167,185]
200. append(X0,X4,X1) = X1 | 'Nil'(X0) != X4 [definition unfolding 168,185]
205. iG10(X0,X1,X2,X3) = filter_mset(X0,X2,'Cons'(X0,X1,X3)) [equality resolution 195]
206. 'Cons'(X4,X6,filter_mset(X4,X6,X7)) = iG10(X4,X6,X6,X7) [equality resolution 150]
207. 'Nil'(X0) = filter_mset(X0,X2,'Nil'(X0)) [equality resolution 196]
222. 'Cons'(X0,X3,append(X0,X2,X1)) = append(X0,'Cons'(X0,X3,X2),X1) [equality resolution 199]
223. append(X0,'Nil'(X0),X1) = X1 [equality resolution 200]
228. filter_mset(X0,X2,X3) = filter_mset(X0,X2,'Cons'(X0,X1,X3)) | X1 = X2 [forward demodulation 151,205]
229. 'Cons'(X4,X6,filter_mset(X4,X6,X7)) = filter_mset(X4,X6,'Cons'(X4,X6,X7)) [forward demodulation 206,205]
413. ! [X0 : sK11,X1 : 'list()'(sK11)] : (append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) & (append(sK11,filter_mset(sK11,sK13,X1),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X1,sK12)) => append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,X0,X1)),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,'Cons'(sK11,X0,X1),sK12)))) => ! [X2 : 'list()'(sK11)] : append(sK11,filter_mset(sK11,sK13,X2),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X2,sK12)) [structural induction hypothesis (one)]
414. ! [X2 : 'list()'(sK11)] : append(sK11,filter_mset(sK11,sK13,X2),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X2,sK12)) | ? [X0 : sK11,X1 : 'list()'(sK11)] : (append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) | (append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,X0,X1)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Cons'(sK11,X0,X1),sK12)) & append(sK11,filter_mset(sK11,sK13,X1),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X1,sK12)))) [ennf transformation 413]
415. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,sK17,sK12)) | append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) | append(sK11,filter_mset(sK11,sK13,X2),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X2,sK12)) [cnf transformation 414]
416. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Cons'(sK11,sK16,sK17),sK12)) | append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) | append(sK11,filter_mset(sK11,sK13,X2),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,X2,sK12)) [cnf transformation 414]
417. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Cons'(sK11,sK16,sK17),sK12)) | append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) [induction hyperresolution 194,416]
418. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,sK17,sK12)) | append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) [induction hyperresolution 194,415]
441. filter_mset(sK11,sK13,sK12) != append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) | append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,sK17,sK12)) [forward demodulation 418,223]
442. filter_mset(sK11,sK13,sK12) != append(sK11,'Nil'(sK11),filter_mset(sK11,sK13,sK12)) | append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,sK17,sK12)) [forward demodulation 441,207]
443. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = filter_mset(sK11,sK13,append(sK11,sK17,sK12)) [subsumption resolution 442,223]
444. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,'Cons'(sK11,sK16,append(sK11,sK17,sK12))) | append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,append(sK11,'Nil'(sK11),sK12)) [forward demodulation 417,222]
445. filter_mset(sK11,sK13,sK12) != append(sK11,filter_mset(sK11,sK13,'Nil'(sK11)),filter_mset(sK11,sK13,sK12)) | append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,'Cons'(sK11,sK16,append(sK11,sK17,sK12))) [forward demodulation 444,223]
446. filter_mset(sK11,sK13,sK12) != append(sK11,'Nil'(sK11),filter_mset(sK11,sK13,sK12)) | append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,'Cons'(sK11,sK16,append(sK11,sK17,sK12))) [forward demodulation 445,207]
447. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,'Cons'(sK11,sK16,append(sK11,sK17,sK12))) [subsumption resolution 446,223]
556. filter_mset(sK11,sK13,append(sK11,sK17,sK12)) != append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) | sK13 = sK16 [superposition 447,228]
569. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) != append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) | sK13 = sK16 [forward demodulation 556,443]
571. 4 <=> sK13 = sK16 [avatar definition]
573. sK13 = sK16 <- (4) [avatar component clause 571]
575. 5 <=> append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) = append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) [avatar definition]
577. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) != append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK16,sK17)),filter_mset(sK11,sK13,sK12)) <- (~5) [avatar component clause 575]
578. 4 | ~5 [avatar split clause 569,575,571]
2270. append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) != append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12)) | sK13 = sK16 <- (~5) [superposition 577,228]
2283. sK13 = sK16 <- (~5) [trivial inequality removal 2270]
2284. 4 | 5 [avatar split clause 2283,575,571]
2305. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK13,sK17)),filter_mset(sK11,sK13,sK12)) != filter_mset(sK11,sK13,'Cons'(sK11,sK13,append(sK11,sK17,sK12))) <- (4) [backward demodulation 447,573]
2313. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK13,sK17)),filter_mset(sK11,sK13,sK12)) != 'Cons'(sK11,sK13,filter_mset(sK11,sK13,append(sK11,sK17,sK12))) <- (4) [forward demodulation 2305,229]
2314. append(sK11,filter_mset(sK11,sK13,'Cons'(sK11,sK13,sK17)),filter_mset(sK11,sK13,sK12)) != 'Cons'(sK11,sK13,append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12))) <- (4) [forward demodulation 2313,443]
2315. 'Cons'(sK11,sK13,append(sK11,filter_mset(sK11,sK13,sK17),filter_mset(sK11,sK13,sK12))) != append(sK11,'Cons'(sK11,sK13,filter_mset(sK11,sK13,sK17)),filter_mset(sK11,sK13,sK12)) <- (4) [forward demodulation 2314,229]
2316. $false <- (4) [subsumption resolution 2315,222]
2317. ~4 [avatar contradiction clause 2316]
2348. $false [avatar sat refutation 578,2284,2317]
% SZS output end Proof for lemma1
% ------------------------------
% Version: Vampire 4.9 (commit 5ad494e78 on 2024-06-14 14:05:27 +0100)
% Linked with Z3 4.12.3.0 79bbbf76d0c123481c8ca05cd3a98939270074d3 z3-4.8.4-7980-g79bbbf76d
% Termination reason: Refutation

% Memory used [KB]: 1335
% Time elapsed: 0.078 s
% Instructions burned: 365 (million)
% ------------------------------
% ------------------------------
